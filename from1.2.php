<?php
  $students = array(
        array("ชื่อ" => "จุฬาลักษณ์", "นามสกุล" => "คงจรูญ", "ห้อง" => "6/9"),
        array("ชื่อ" => "ไตรคูน", "นามสกุล" => "บุญนํา", "ห้อง" => "6/9"),
        array("ชื่อ" => "วรนาศักดิ์", "นามสกุล" => "เกียรติพิเชฐชื่น", "ห้อง" => "6/9"),
        array("ชื่อ" => "นนทวัฒน์", "นามสกุล" => "ขําดวง", "ห้อง" => "6/9"),
        array("ชื่อ" => "ภาณุพงศ์", "นามสกุล" => "สายศร", "ห้อง" => "6/9"),
        array("ชื่อ" => "ปัณณกร", "นามสกุล" => "พวงสุวรรณ์", "ห้อง" => "6/9"),
        array("ชื่อ" => "วิศรุต", "นามสกุล" => "กลิ่นเรือง", "ห้อง" => "6/9"),
        array("ชื่อ" => "อมรเทพ", "นามสกุล" => "อันโน", "ห้อง" => "6/9"),
        array("ชื่อ" => "จักรกริช", "นามสกุล" => "เทศทอง", "ห้อง" => "6/9"),
        array("ชื่อ" => "จิรฐา", "นามสกุล" => "น้อยศรี", "ห้อง" => "6/9"),
        array("ชื่อ" => "กรพิพัฒน์", "นามสกุล" => "เล็กนาก", "ห้อง" => "6/9"),
        array("ชื่อ" => "ภัทรพล", "นามสกุล" => "ชมพุฒ", "ห้อง" => "6/9"),
        array("ชื่อ" => "ศุภชัย", "นามสกุล" => "รุ่งแสง", "ห้อง" => "6/9"),
        array("ชื่อ" => "ณัฐพล", "นามสกุล" => "ปลื้มกิจมงคล", "ห้อง" => "6/9"),
        array("ชื่อ" => "พลัษฎฐ์", "นามสกุล" => "ด่านอนันต์สุข", "ห้อง" => "6/9"),
        array("ชื่อ" => "เรืองวิทย์", "นามสกุล" => "โชคชัย", "ห้อง" => "6/9"),
        array("ชื่อ" => "จิรายุธ", "นามสกุล" => "บูรณะจันทร์", "ห้อง" => "6/9"),
        array("ชื่อ" => "ณัชชา", "นามสกุล" => "คําภา", "ห้อง" => "6/9"),
        array("ชื่อ" => "สาวิตรี", "นามสกุล" => "มินสะมัน", "ห้อง" => "6/9"),
        array("ชื่อ" => "บัณพร", "นามสกุล" => "ศิริพันธ์", "ห้อง" => "6/9"),
        array("ชื่อ" => "ญาณิศา", "นามสกุล" => "่พ่วงพี", "ห้อง" => "6/9"),
        array("ชื่อ" => "กิตญาดา", "นามสกุล" => "จิตรวิมลรัตน์", "ห้อง" => "6/9"),
        array("ชื่อ" => "สุดารัตน์", "นามสกุล" => "สวนยิ้ม", "ห้อง" => "6/9"),
        array("ชื่อ" => "พลอยประภัส", "นามสกุล" => "พิษรักษ์", "ห้อง" => "6/9"),
        array("ชื่อ" => "ทัศชนก", "นามสกุล" => "สมัย", "ห้อง" => "6/9"),
        array("ชื่อ" => "แพรพิไล", "นามสกุล" => "บุญครอง", "ห้อง" => "6/9"),
        array("ชื่อ" => "กัลยภรณ์", "นามสกุล" => "สิทธิวงศ์", "ห้อง" => "6/9"),
        array("ชื่อ" => "กาญจน์เกล้า", "นามสกุล" => "สิทโธ", "ห้อง" => "6/9"),
        array("ชื่อ" => "กฤติมา", "นามสกุล" => "เกียรติอาภรณ์", "ห้อง" => "6/9"),
        array("ชื่อ" => "อภิษฎา", "นามสกุล" => "วชิรศรีสุนทรา", "ห้อง" => "6/9"),
        array("ชื่อ" => "ศิริกานต์", "นามสกุล" => "เบ้าต่น", "ห้อง" => "6/9"),
        array("ชื่อ" => "กัญญาวีย์", "นามสกุล" => "อุดมสารี", "ห้อง" => "6/9"),
        array("ชื่อ" => "ณัฐริณีย์", "นามสกุล" => "ฉิมเรือง", "ห้อง" => "6/9"),
        array("ชื่อ" => "พิชาภรณ์", "นามสกุล" => "มีโชคสม", "ห้อง" => "6/9"),
        array("ชื่อ" => "กัลย์ณิศา", "นามสกุล" => "รัตน์เรืองอุดม", "ห้อง" => "6/9"),
        array("ชื่อ" => "ชุดา", "นามสกุล" => "สาริพันธ์", "ห้อง" => "6/9"),
        array("ชื่อ" => "กันตา", "นามสกุล" => "ปิยะภัทรกุล", "ห้อง" => "6/9"),
        array("ชื่อ" => "นภัสพรพรหม", "นามสกุล" => "ตันชรากรณ์", "ห้อง" => "6/9"),
        array("ชื่อ" => "กิ่งกาญจน์", "นามสกุล" => "รวมพล", "ห้อง" => "6/9"),
        array("ชื่อ" => "วชิราญาณ์", "นามสกุล" => "วชิระนาวิน", "ห้อง" => "6/9")
    );

$keyword = $_GET['keyword'] ?? '';


$result = [];
if ($keyword !== '') {
    foreach ($students as $student) {
        if (stripos($student['name'], $keyword) !== false || stripos($student['id'], $keyword) !== false) {
            $result[] = $student;
        }
    }
}
?>
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ค้นหานักเรียน 609</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="card shadow p-4">
            <h2 class="mb-3 text-center">ค้นหานักเรียน ห้อง 609</h2>

        
            <form method="GET" action="">
                <div class="mb-3">
                    <label for="keyword" class="form-label">กรอกชื่อหรือเลขประจำตัว:</label>
                    <input type="text" name="keyword" id="keyword" class="form-control" value="<?= htmlspecialchars($keyword) ?>" placeholder="เช่น สมชาย หรือ 609001" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">ค้นหา</button>
            </form>

         
            <?php if ($keyword !== ''): ?>
                <hr>
                <h4 class="text-center mb-3">ผลการค้นหา</h4>
                <?php if (!empty($result)): ?>
                    <table class="table table-striped table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>เลขที่</th>
                                <th>เลขประจำตัว</th>
                                <th>ชื่อ-นามสกุล</th>
                                <th>ห้องเรียน</th>
                                <th>แผนการเรียน</th>
                            </tr>
                        </thead>
                        <tbody>
                            <?php foreach ($result as $row): ?>
                            <tr>
                                <td><?= $row['no'] ?></td>
                                <td><?= $row['id'] ?></td>
                                <td><?= $row['name'] ?></td>
                                <td><?= $row['class'] ?></td>
                                <td><?= $row['plan'] ?></td>
                            </tr>
                            <?php endforeach; ?>
                        </tbody>
                    </table>
                <?php else: ?>
                    <div class="alert alert-danger text-center">
                        ไม่พบข้อมูลที่ค้นหา: <strong><?= htmlspecialchars($keyword) ?></strong>
                    </div>
                <?php endif; ?>
            <?php endif; ?>
        </div>
    </div>
</body>
</html>
